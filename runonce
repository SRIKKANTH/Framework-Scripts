#!/usr/bin/powershell
#
#  Reused from the StackOverflow article.  Solution by Dennis Williamson
#
#  Place this file in /usr/local/bin
#  Create directory /etc/local/runonce.d
#  Add the line "@reboot root /usr/local/bin/runonce" to /etc/crontab
#
#  When there's a script you want to run at the next boot, put it in /etc/local/runonce.d.  
#

for file in /etc/local/runonce.d/*
do
    if [ ! -f "$file" ]
    then
        continue
    fi
    mv "$file" ran 
    /etc/local/runonce.d/ran/`basename $file` |& tee /tmp/`basename $file`.log
    logger -t runonce -p local3.info "$fullFile"
done
